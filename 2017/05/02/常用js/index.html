<!DOCTYPE html>



  




<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="js," />










<meta name="description" content="前言这是在工作上js方面遇见的问题和解决方案">
<meta name="keywords" content="js">
<meta property="og:type" content="article">
<meta property="og:title" content="常用js">
<meta property="og:url" content="http://yoursite.com/2017/05/02/常用js/index.html">
<meta property="og:site_name" content="樱月义的博客">
<meta property="og:description" content="前言这是在工作上js方面遇见的问题和解决方案">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://i.imgur.com/TKo6lJf.png">
<meta property="og:image" content="https://segmentfault.com/img/bVXTUy?w=668&h=384">
<meta property="og:image" content="https://segmentfault.com/img/bVXTUB?w=643&h=510">
<meta property="og:updated_time" content="2019-07-04T07:52:47.800Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="常用js">
<meta name="twitter:description" content="前言这是在工作上js方面遇见的问题和解决方案">
<meta name="twitter:image" content="http://i.imgur.com/TKo6lJf.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/05/02/常用js/"/>





  <title>常用js | 樱月义的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">樱月义的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不破楼兰终不还</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/02/常用js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="樱月义">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="樱月义的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">常用js</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-02T09:03:58+08:00">
                2017-05-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这是在工作上js方面遇见的问题和解决方案</p>
<a id="more"></a><!--more-->
<h1 id="webstorm的快捷键"><a href="#webstorm的快捷键" class="headerlink" title="webstorm的快捷键"></a>webstorm的快捷键</h1><p>ctrl+a  全选</p>
<h1 id="添加数组的方式"><a href="#添加数组的方式" class="headerlink" title="添加数组的方式"></a>添加数组的方式</h1><p>向尾部添加：</p>
<ol>
<li>arr[arr.length] = 6; // 平均42 345 449 ops/sec</li>
<li>arr.push(6); // 慢34.66%</li>
<li>arr2 = arr.concat([6]); // 慢85.79%</li>
</ol>
<p>向头部添加：</p>
<ol>
<li>[0].concat(arr); // 平均4 972 622 ops/sec</li>
<li>arr.unshift(0); // 慢64.70%</li>
</ol>
<p>向数组中间添加：</p>
<p>var items = [‘one’, ‘two’, ‘three’, ‘four’];<br>items.splice(items.length / 2, 0, ‘hello’);</p>
<h2 id="添加不支持的文件为已经支持的格式"><a href="#添加不支持的文件为已经支持的格式" class="headerlink" title="添加不支持的文件为已经支持的格式"></a>添加不支持的文件为已经支持的格式</h2><pre><code>微信小程序官方说明需要在微信开发者工具中开发运行，但这个工具着实不咋地。

我是使用webstrom编辑，然后在微信开发者工具中热加载查看效果，因为webstrom默认并不支持*.wxml，添加使用xml（各人随意，我使用html格式显示不好看）格式编写。

　　File -&gt; Settings -&gt; Editor -&gt; File Types

在Recognized File Types 中找到你想使用的格式，然后在Registered Patterns 中添加 *.xml。
</code></pre><h1 id="return-false的应用"><a href="#return-false的应用" class="headerlink" title="return false的应用"></a>return false的应用</h1><p>return false的实际作用：</p>
<pre><code>•event.preventDefault();   //阻止元素的默认行为
•event.stopPropagation();  //阻止事件冒泡
•停止回调函数执行并立即返回。
</code></pre><p>对于a标签只是用于点击而不需要执行跳转的情况可以使用：</p>
<pre><code>&lt;a href=&quot;#m1&quot;  onclick=&quot;return false&quot;&gt;
</code></pre><p>这样网页上面不会出现点击a标签后的锚点。当然这样多于用了很多功能，实际上起作用的是：</p>
<pre><code>$(&quot;a&quot;).click(function(event){
  event.preventDefault();  
});
</code></pre><p>改方法同样可以用于按钮按了以后对表单的提交</p>
<h1 id="兄弟节点"><a href="#兄弟节点" class="headerlink" title="兄弟节点"></a>兄弟节点</h1><pre><code>$(&apos;#id&apos;).siblings() 当前元素所有的兄弟节点
$(&apos;#id&apos;).prev() 当前元素前一个兄弟节点
$(&apos;#id&apos;).prevaAll() 当前元素之前所有的兄弟节点
$(&apos;#id&apos;).next() 当前元素之后第一个兄弟节点
$(&apos;#id&apos;).nextAll() 当前元素之后所有的兄弟节点
</code></pre><h1 id="常用的正则表达式"><a href="#常用的正则表达式" class="headerlink" title="常用的正则表达式"></a>常用的正则表达式</h1><pre><code>手机号码：   /^1[3|4|5|7|8][0-9]{9}$/


/g意思就是：表示替换将针对行中每个匹配的串进行，否则则只替换行中第一个匹配串。

/i意思就是 case insensitive,区分大小写小字。

/d意思是digital.是一个数字如：/d就相当于[0-9]




/^[0-9]\d*([.][0-9]{1,2})?$/;保留两位小数


{1,2}最少1个做多两个


   身份证：/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/

// 身份证号码为15位或者18位，15位时全为数字，18位前17位为数字，最后一位是校验位，可能为数字或字符X
</code></pre><h1 id="点击div以外的元素触发"><a href="#点击div以外的元素触发" class="headerlink" title="点击div以外的元素触发"></a>点击div以外的元素触发</h1><pre><code>$(document).click(function(){//事件1
    $(&quot;#bar&quot;).hide();   
});

$(&quot;#bar&quot;).click(function(event){//事件2
    event.stopPropagation();   
});
</code></pre><p>这里需要注意，点击document执行事件1，而事件2的目的是不执行事件1</p>
<h1 id="没有的元素才能出发的事件"><a href="#没有的元素才能出发的事件" class="headerlink" title="没有的元素才能出发的事件"></a>没有的元素才能出发的事件</h1><p>一些插件用增删class来触发事件，例如jquery.boxy关闭弹窗需要点击有.close的元素。然而很多情况页面设计上面没有.close这个元素，所以我们就需要在将其加在页面中隐藏起来，在其他事件触发的同时，触发隐藏元素的点击事件即可。</p>
<pre><code>$(&quot;body&quot;).click(function () {
    $(&quot;#closeImg&quot;).click();   //取消
});
</code></pre><p>点击body出发closeImg元素</p>
<h1 id="对string和array进行删除操作"><a href="#对string和array进行删除操作" class="headerlink" title="对string和array进行删除操作"></a>对string和array进行删除操作</h1><p>推荐使用slice(a,b);  a开始，删到b    从0开始，只有1个值的时候默认为第二个值<br>当为-的时候用数组的长度来-即可</p>
<pre><code>var colors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;purple&quot;];
var colors2 = colors.slice(1);
var colors3 = colors.slice(1,4);
alert(colors2); //green,blue,yellow,purple
alert(colors3); //green,blue,yellow
</code></pre><h1 id="刷新当前的页面"><a href="#刷新当前的页面" class="headerlink" title="刷新当前的页面"></a>刷新当前的页面</h1><p>window.location.reload()刷新当前页面.   //因为安卓不支持</p>
<p>解决方案：</p>
<pre><code>window.location.href = location.href+&apos;?time=&apos;+((new Date()).getTime());
</code></pre><p>原因：<br>href是location对象的一个属性，reload()则是location对象的方法</p>
<p>所以对于href，可以为该属性设置新的 URL，使浏览器读取并显示新的 URL 的内容。</p>
<p>对于reload()则是重新加载当前文档，如果该方法没有参数或者参数为 false，会用 HTTP 头 If-Modified-Since 来检测服务器上的文档是否已改变。如果文档已改变，reload() 会再次下载该文档。如果文档未改变，则该方法将从缓存中装载文档。如果把该方法的参数设置为 true，那么无论文档的最后修改日期是什么，它都会避开缓存，从服务器上重新下载该文档。</p>
<p>对于安卓手机微信中浏览器，reload是从缓存中装载文档，所以是失效的；</p>
<p>其他：</p>
<pre><code>1，history.go(0) 
2，location.reload() 
3，location=location 
4，location.assign(location) 
5，document.execCommand(&apos;Refresh&apos;) 
6，window.navigate(location) 
7，location.replace(location) 
8，document.URL=location.href

自动刷新：
&lt;meta http-equiv=&quot;refresh&quot; content=&quot;20&quot;&gt;

function myrefresh()
{
   window.location.reload();
}
setTimeout(&apos;myrefresh()&apos;,1000); //指定1秒刷新一次
</code></pre><h1 id="阻止默认事件"><a href="#阻止默认事件" class="headerlink" title="阻止默认事件"></a>阻止默认事件</h1><pre><code>1.event.stopPropagation()  阻止事件的冒泡方法

2.event.preventDefault()阻止默认事件的方法

3.return false  包含以上两种
</code></pre><p>在大多数情况下,return false,可以防止默认的事件行为.例如,默认情况下点击一个a元素,页面会跳转到该元素href属性指定的页面.</p>
<p>不过return false实际做的事情是</p>
<pre><code>event.preventDefault();

event.stopPropagation();

停止回调函数执行并立即返回。
</code></pre><p>所以在使用return false前还是要考虑一下阻止冒泡了会不会有影响。</p>
<p>兼容性写法：</p>
<pre><code>e.stopPropagation ? e.stopPropagation() : (e.cancelBubble=true); //阻止冒泡
</code></pre><h1 id="刷新页面以后，需要之前数据的处理"><a href="#刷新页面以后，需要之前数据的处理" class="headerlink" title="刷新页面以后，需要之前数据的处理"></a>刷新页面以后，需要之前数据的处理</h1><h2 id="方法1"><a href="#方法1" class="headerlink" title="方法1"></a>方法1</h2><p>使用html5的Storage，ie8一下的浏览器不支持。</p>
<p>localStorage - 一直存在</p>
<p>sessionStorage - 在浏览器关闭前一直存在</p>
<pre><code>if(sessionStorage.item){   //临时缓存存在的时候，显示的是之前点击的内容
    $showButton.html(sessionStorage.item);
}else {  //当临时缓存不在的时候，下拉列表中的显示的内容是想象中的第一个
    $showButton.html($showList.find(&quot;.listItem&quot;).eq(0).html());
}
</code></pre><p>要注意Storage中只能存储字符串，所以要结合JSON.parse(str)和JSON.stringify(obj);使用</p>
<h2 id="方法2"><a href="#方法2" class="headerlink" title="方法2"></a>方法2</h2><p>利用点击后url变化的原理在url中添加参数，然后从刷新的页面中读取参数来获取之前的数据，注意其中涉及到中的时候要使用url编码和解码</p>
<p>利用search  url?</p>
<pre><code>if(window.location.search){
    $(&quot;select&quot;).val(decodeURIComponent(window.location.search).substr(1));
}
$(function(){
    $(&quot;#a&quot;).click(function(){
        window.location.search=&quot;?&quot;+$(&quot;select&quot;).val();  //给url+#下拉列表选中的值
        $(this).attr(&quot;href&quot;,window.location);  //将url添加到a标签的href上
        return false;
    });
})
</code></pre><p>利用hash url#</p>
<pre><code>if(window.location.hash){
    $(&quot;select&quot;).val(window.location.hash.substr(1));
}
$(function(){
    $(&quot;#a&quot;).click(function(){
        console.log(1);
        window.location.hash=$(&quot;select&quot;).val();  //给url+#下拉列表选中的值
        location.reload(window.location.href);
        return false;
    });
})
</code></pre><h1 id="自动获取焦点"><a href="#自动获取焦点" class="headerlink" title="自动获取焦点"></a>自动获取焦点</h1><p>方式1：</p>
<pre><code>给input  添加autofocus属性
</code></pre><p>方式2：</p>
<pre><code>$(input).focus()      //注意要在input生成以后才用不然无效
</code></pre><h1 id="关闭浏览器预测对字段的输入"><a href="#关闭浏览器预测对字段的输入" class="headerlink" title="关闭浏览器预测对字段的输入"></a>关闭浏览器预测对字段的输入</h1><p>autocomplete=”off”</p>
<h1 id="解决缓存问题"><a href="#解决缓存问题" class="headerlink" title="解决缓存问题"></a>解决缓存问题</h1><p>最开始工作是手机端的页面，每次修改后，测试的手机因为缓存显示以前的css，很讨厌</p>
<p>在css和js文件的最后加上?随便         </p>
<pre><code>eg：         xxx.js?v=0.101
</code></pre><h1 id="ajax上传的数据处理"><a href="#ajax上传的数据处理" class="headerlink" title="ajax上传的数据处理"></a>ajax上传的数据处理</h1><p>json字符串转json对象：jQuery.parseJSON(jsonStr);</p>
<p>json对象转json字符串：JSON.stringify(jsonObj);   </p>
<p>对于数组同样也使用，将json转化为字符串，将json字符串转化为json</p>
<p>查看数据的类型：toString.call()</p>
<p>eg:<br>post的文件：</p>
<pre><code>data: {
    shopName:messages.shopName,

    roomNumber:messages.roomNumber,

    shopAddress:messages.shopAddress,

    peopleName:messages.peopleName,

    telephone:messages.telephone,

    industry:JSON.stringify(messages.industry),   
    //数组要这样转化，将其转化为json字符串

    images:JSON.stringify(messages.images)
},
</code></pre><h1 id="无法被动侦听事件preventDefault"><a href="#无法被动侦听事件preventDefault" class="headerlink" title="无法被动侦听事件preventDefault"></a>无法被动侦听事件preventDefault</h1><pre><code>Unable to preventDefault inside passive event listener due to target being treated as passive.
</code></pre><p>解决办法：    </p>
<pre><code>* { touch-action: none; } 
</code></pre><h1 id="定时清除localStorage的办法"><a href="#定时清除localStorage的办法" class="headerlink" title="定时清除localStorage的办法"></a>定时清除localStorage的办法</h1><p>localStorage一直放在本地也不是办法，试着思考了一种可以定时清除的办法，不清楚对不对</p>
<pre><code>setInterval(function(){
    var date=new Date();
    var s=parseInt(date.getTime()/1000);
    if(!localStorage.time){
        localStorage.time=s;
    }else {
        if (s&gt;=parseInt(localStorage.time)+10){ //每10秒清除一次
            localStorage.clear();
            alert(&quot;清除了&quot;);
        }
    }
},1000);
</code></pre><h1 id="获取指定时间的js"><a href="#获取指定时间的js" class="headerlink" title="获取指定时间的js"></a>获取指定时间的js</h1><pre><code>var date=new Date(&quot;2017.04.12 00:00:01&quot;);
</code></pre><h1 id="url的编码和解码"><a href="#url的编码和解码" class="headerlink" title="url的编码和解码"></a>url的编码和解码</h1><p>decodeURIComponent():统统会被编码</p>
<pre><code>编码：Javascript:encodeURIComponent(&quot;春节&quot;);

解码：Javascript:decodeURIComponent(&quot;%E6%98%A5%E8%8A%82&quot;)
</code></pre><p>encodeURI():返回编码为有效的统一资源标识符 (URI) 的字符串。</p>
<p>不会被此方法编码的字符：! @ # $ &amp; * ( ) = : / ; ? + ‘</p>
<pre><code>编码：Javascript:encodeURI(&quot;春节&quot;);

解码：Javascript:decodeURI(&quot;%E6%98%A5%E8%8A%82&quot;);
</code></pre><h1 id="上一页的地址"><a href="#上一页的地址" class="headerlink" title="上一页的地址"></a>上一页的地址</h1><p>document.referrer</p>
<h1 id="去掉首尾的空格"><a href="#去掉首尾的空格" class="headerlink" title="去掉首尾的空格"></a>去掉首尾的空格</h1><pre><code>var str = &quot;       hl   &quot;;
var patt1 = /(^\s*)|(\s*$)/g ;
var str1 = str.replace(patt1,&quot;&quot;);
console.log(str1)
</code></pre><p>一句表达式：</p>
<pre><code>$(&quot;#input&quot;).val().replace(/(^\s*)|(\s*$)/g,&quot;&quot;)
</code></pre><h1 id="监听是否点击返回上一页和下一页按钮-并且不返回"><a href="#监听是否点击返回上一页和下一页按钮-并且不返回" class="headerlink" title="监听是否点击返回上一页和下一页按钮,并且不返回"></a>监听是否点击返回上一页和下一页按钮,并且不返回</h1><pre><code>$(function(){
    pushHistory();
    window.addEventListener(&quot;popstate&quot;, function(e) {
        alert(&quot;我监听到了浏览器的返回按钮事件啦&quot;);
    }, false);
    function pushHistory() {
        var state = {
            title: &quot;title&quot;,
            url: &quot;#&quot;
        };
        window.history.pushState(state, &quot;title&quot;, &quot;#&quot;);
    }
});
</code></pre><h1 id="阻止返回上一页"><a href="#阻止返回上一页" class="headerlink" title="阻止返回上一页"></a>阻止返回上一页</h1><pre><code>window.history.pushState(sessionStorage.item, &quot;&quot;, window.location.href);
$(window).on(&quot;popstate&quot;, function() {   //点击了返回上一页
    console.log(1);
    window.history.pushState(sessionStorage.item, &quot;&quot;, window.location.href);
});
</code></pre><h2 id="popstate事件-用于控制浏览器历史记录的"><a href="#popstate事件-用于控制浏览器历史记录的" class="headerlink" title="popstate事件,用于控制浏览器历史记录的"></a>popstate事件,用于控制浏览器历史记录的</h2><p>当活动历史记录条目更改时，将触发popstate事件,调用history.pushState()或history.replaceState()不会触发popstate事件,只有在做出浏览器动作时，才会触发该事件:如用户点击浏览器的回退按钮或者代码中调用history.back()</p>
<p>过去用于操作历史记录的window.history对象</p>
<p>属性：  </p>
<pre><code>length：返回浏览器历史列表中的 URL 数量

state：
</code></pre><p>方法：</p>
<pre><code>back()      返回上一页

forward()   进入下一页

go()    正数表示下几页，负数表示上几页
</code></pre><p>缺陷：这三种方法都是无法控制前进后要去哪里，同时histor.length维持原来的状态</p>
<p>html5扩展了一些方法：</p>
<pre><code>pushState()      //存储当前历史记录点

replaceState()   //替换当前历史点

popstate()      //监听当前历史点
</code></pre><p>eg：</p>
<pre><code>history.pushState(data,title,url);
</code></pre><p>data是给state的值,title为页面的标题，传空字符串即可，url是你想要去的链接</p>
<pre><code>history.replaceState(&quot;首页&quot;,&quot;&quot;,location.href+ &quot;#news&quot;);
</code></pre><p>区别：replace不会改变history的length，push会改变</p>
<p>eg:</p>
<pre><code>$(function () {
    var i=0;
    $(&quot;a&quot;).click(function(e){
        e.preventDefault();
        window.history.pushState(i, &quot;title&quot;, &quot;#&quot;+i);
        i++;
    });
    $(window).on(&quot;popstate&quot;, function() {   //点击了返回上一页
        console.log(1);
    });
});
</code></pre><h1 id="五星评价的半星评价"><a href="#五星评价的半星评价" class="headerlink" title="五星评价的半星评价"></a>五星评价的半星评价</h1><p>平时评价都是1个整星的评价，但是如果出现半星评价的要求就需要对星星进行相应的处理。</p>
<p>思路：将一个整星的元素分成左右两个元素。这就需要用到将图片可控制大小+显示部分的功能。暂时想到了两个思路来解决：</p>
<h2 id="利用background来解决"><a href="#利用background来解决" class="headerlink" title="利用background来解决"></a>利用background来解决</h2><pre><code>background: #fff url(star.png) 0 0 no-repeat;
</code></pre><p>可以将元素大小定死，利用position来调整图片显示的部分很方便。然而background一般是将图片的大小按原本大小展示的，对于图片大小不适合的要进行修改大小，这个时候就要利用css3新增的<code>background-size</code>属性</p>
<pre><code>background-size:80px 60px;

background-size:10% 10%;

background-size:cover ;    //平铺

background-size:contain     ; //让图片的高或者宽一边铺满
</code></pre><p>整体的思路是：</p>
<pre><code>.box{
    width: 12px;
    height: 24px;
    background: #fff url(star.png) 0 0 no-repeat;
    background-size: 24px
}
.box1{
    width: 12px;
    height: 24px;
    background: #fff url(star.png) -12px 0 no-repeat;
    background-size: 24px
}

&lt;div class=&quot;box&quot; &gt;&lt;/div&gt;
&lt;div class=&quot;box1&quot; &gt;&lt;/div&gt;
</code></pre><p>当然这样的缺点是：因为<code>background-size</code>是css3增加的属性，兼容性有问题最低支持IE9,IE9以下的浏览器就不推荐这种办法。</p>
<h2 id="利用img和div的配和来解决"><a href="#利用img和div的配和来解决" class="headerlink" title="利用img和div的配和来解决"></a>利用img和div的配和来解决</h2><p>img元素比起background属性，优点是可以轻松的控制图片的大小，缺点也很明显就是img会把整个图片都显示出来。如果只想要显示半张图片就得利用一下div的配合了。</p>
<p>思路是让父元素只有img元素宽度的一半，超出的隐藏。偏移的部分用margin来控制。</p>
<pre><code>ul li{
    width: 12px;
    height: 24px;
    float: left;
    overflow: hidden;
    list-style: none;
}
ul li img{
    width: 24px;
    height: 23px;
}
ul li .star-right{
    margin-left: -12px
}

&lt;ul&gt;
    &lt;li&gt;&lt;img src=&quot;star.png&quot;&gt;&lt;/li&gt;
    &lt;li&gt;&lt;img src=&quot;star.png&quot; class=&quot;star-right&quot; &gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre><h1 id="iconfont的使用"><a href="#iconfont的使用" class="headerlink" title="iconfont的使用"></a>iconfont的使用</h1><p>图标文字比使用图片更方便，然而一次性引用整个font-awesome字体库还是有点浪费，所以iconfont.cn的只用需要的图标更好用。</p>
<p>svg文件的使用：   ie9支持内联使用</p>
<pre><code> &lt;embed src=&quot;star.svg&quot; type=&quot;image/svg+xml&quot;&gt;&lt;/embed&gt;

&lt;img src=&quot;star.svg&quot; &gt;&lt;/img&gt;   //静态图片使用
</code></pre><p>或者直接在用<code>&lt;i&gt;</code>图标来使用，兼容性良好，支持ie8+，color无效</p>
<p>将需要的图标文字放入购物车，点击下载代码，然后解压，注意不能把单独的css文件提取出来，必须保持解压的状态</p>
<pre><code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;./iconfont.css&quot;&gt;


&lt;i class=&quot;iconfont icon-xxx&quot;&gt;&lt;/i&gt;
</code></pre><p>最原始的方式：支持ie6+，unicode引用,color有效</p>
<pre><code>&lt;style&gt;
    @font-face {
        font-family: &apos;iconfont&apos;;
        src: url(&apos;star/iconfont.eot&apos;);
        src: url(&apos;star/iconfont.eot?#iefix&apos;) format(&apos;embedded-opentype&apos;),
        url(&apos;star/iconfont.woff&apos;) format(&apos;woff&apos;),
        url(&apos;star/iconfont.ttf&apos;) format(&apos;truetype&apos;),
        url(&apos;star/iconfont.svg#iconfont&apos;) format(&apos;svg&apos;);
    }
    .iconfont{
        font-family:&quot;iconfont&quot; !important;
        font-size:16px;font-style:normal;
        -webkit-font-smoothing: antialiased;
        -webkit-text-stroke-width: 0.2px;
        -moz-osx-font-smoothing: grayscale;
    }
&lt;/style&gt;


&lt;i class=&quot;iconfont&quot;&gt;&amp;#x33;&lt;/i&gt;
</code></pre><h1 id="禁止点击事件"><a href="#禁止点击事件" class="headerlink" title="禁止点击事件"></a>禁止点击事件</h1><p>方法1：</p>
<pre><code>如果是通过a标签来实现点击的话可以增加css


.disabled { pointer-events: none; }
</code></pre><p>方式2：</p>
<pre><code>如何是button元素的话可以增加disable属性
$(&apos;#button&apos;).attr(&apos;disabled&apos;,&quot;true&quot;);添加disabled属性
$(&apos;#button&apos;).removeAttr(&quot;disabled&quot;); 移除disabled属性
</code></pre><p>方法3：</p>
<pre><code>$(this).click(function (event) {
    event.preventDefault();
}
</code></pre><h1 id="字符串的截取"><a href="#字符串的截取" class="headerlink" title="字符串的截取"></a>字符串的截取</h1><pre><code>slice()        开始位置    需要返回的子字符串最后一个字符后面的位置
substr()    开始位置    需要返回的字符个数
substring()    开始位置    需要返回的子字符串最后一个字符后面的位置
</code></pre><h1 id="限制input的输入长度"><a href="#限制input的输入长度" class="headerlink" title="限制input的输入长度"></a>限制input的输入长度</h1><pre><code>oninput=&quot;(value.length&gt;4)&amp;&amp;(value=value.slice(0,4))&quot;
</code></pre><h1 id="js日期格式化"><a href="#js日期格式化" class="headerlink" title="js日期格式化"></a>js日期格式化</h1><p>/<em> 格式化时间方法 </em>/</p>
<pre><code>function dateFormat(date, format) {      //输入对应的时间和需要的输出的格式代码 MM:dd 输入的就是月份：日
    date = new Date(date * 1000);   //输入的时间转换为毫秒
    var map = {
        &quot;M&quot;: date.getMonth() + 1, //月份
        &quot;d&quot;: date.getDate(), //日
        &quot;h&quot;: date.getHours(), //小时
        &quot;m&quot;: date.getMinutes(), //分
        &quot;s&quot;: date.getSeconds(), //秒
        &quot;q&quot;: Math.floor((date.getMonth() + 3) / 3), //季度
        &quot;S&quot;: date.getMilliseconds() //毫秒
    };
    format = format.replace(/([yMdhmsqS])+/g, function (all, t) {    //format必须由yMDHMSQS组成
        var v = map[t];
        if (v !== undefined) {
            if (all.length &gt; 1) {
                v = &apos;0&apos; + v;
                v = v.substr(v.length - 2);
            }
            return v;
        }else if (t === &apos;y&apos;) {
            return (date.getFullYear() + &apos;&apos;).substr(4 - all.length);
        }
        return all;
    });
    return format;
}
</code></pre><p>需要的内容，开始的时间日期的getTime()和需要用的时间的毫秒数，<br>两者相加算数data，然后在根据需要的输出的时间写出format即可</p>
<h1 id="parseInt-string-radix"><a href="#parseInt-string-radix" class="headerlink" title="parseInt(string, radix)"></a>parseInt(string, radix)</h1><p>将字符串转化为整数，后面一个参数是用于表明转化的进制</p>
<h1 id="转义字符”-“"><a href="#转义字符”-“" class="headerlink" title="转义字符”/“"></a>转义字符”/“</h1><pre><code>&lt;script&gt;
    alert(&quot;&lt;/script&gt;&quot;);    //报错
&lt;/script&gt;



&lt;script&gt;
    alert(&quot;&lt;\/script&gt;&quot;);
&lt;/script&gt;
</code></pre><h1 id="过滤器filter"><a href="#过滤器filter" class="headerlink" title="过滤器filter()"></a>过滤器filter()</h1><p>在筛选中的元素中在找到对应的指定类型</p>
<p>和find的区别：</p>
<p>find是在子元素中寻找指定的类型</p>
<p>filter是在自身元素中寻找指定的类型</p>
<pre><code>&lt;div class=&quot;css&quot;&gt;
    &lt;p class=&quot;rain&quot;&gt;测试1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;rain&quot;&gt;
    &lt;p&gt;测试2&lt;/p&gt;
&lt;/div&gt;



var $find =  $(&quot;div&quot;).find(&quot;.rain&quot;);
console.log($find) ;
var $filter = $(&quot;div&quot;).filter(&quot;.rain&quot;);
console.log($filter);
</code></pre><p>结果：</p>
<pre><code>[p.rain, selector: Array[1]]
[div.rain, selector: Array[1]]
</code></pre><h1 id="vue，angular和artTemplate的过滤器"><a href="#vue，angular和artTemplate的过滤器" class="headerlink" title="vue，angular和artTemplate的过滤器"></a>vue，angular和artTemplate的过滤器</h1><p>过滤器是一个通过输入数据，能够及时对数据进行处理并返回一个数据结果的简单函数</p>
<pre><code>{{ "lower cap string" | uppercase }}   //结果：LOWER CAP STRING 
{{ "TANK is GOOD" | lowercase }}     //结果：tank is good 


{{ 1304375948024 | date:'medium'}}   //May 03, 2011 06:39:08 PM 
{{ 1304375948024 | date }}             //结果：May 3, 2011 
{{ 1304375948024 | date:"MM/dd/yyyy @ h:mma" }}   //结果：05/03/2011 @ 6:39AM 
{{ 1304375948024 | date:"yyyy-MM-dd hh:mm:ss" }}  //结果：2011-05-03 06:39:08
</code></pre><p>自定义filter功能：</p>
<pre><code>angular.module(&apos;tanktest&apos;, []).filter(&apos;tankreplace&apos;, function() { 
  return function(input) { 
    return input.replace(/tank/, &quot;=====&quot;) 
  }; 
}); 

{{ "TANK is GOOD" | lowercase |tankreplace}}  //结果：===== is good 




&lt;li v-for=&quot;product in products|filterBy &apos;水果&apos; in &apos;category&apos; |orderBy &apos;price&apos; 1&quot;&gt;
</code></pre><p>filterBy 过滤在 ‘category’中含有’水果’ 关键字的列表，返回的列表就是只含有 ‘水果’ 关键字的列表，而orderBy过滤器是根据价格做了一个升序，如果想要降序，只需要加一个小于0的参数；</p>
<p>Vue有两个内置的过滤器来过滤或者排序数据，分别是： filterBy 和 orderBy 。</p>
<h1 id="jquery中对动态生成的标签不会响应click事件"><a href="#jquery中对动态生成的标签不会响应click事件" class="headerlink" title="jquery中对动态生成的标签不会响应click事件"></a>jquery中对动态生成的标签不会响应click事件</h1><p>Jquery中对ajax动态生成的html标签不会响应click事件，需要使用.live来绑定。</p>
<p>解决办法：对于动态生成的元素obj用live来绑定事件</p>
<pre><code>obj.live(&quot;click&quot;,function(){
    alert(1);
});
</code></pre><p>原本的事件：</p>
<pre><code>$(&quot;#spread&quot;).click(function(){
    $(&quot;.box&quot;).html(str+&quot;&lt;a href=&apos;javascript:&apos; id=&apos;stop&apos;&gt;收起&lt;/a&gt;&quot;);
});
</code></pre><p>对于动态生成的a元素，怎么都绑定不了click事件。</p>
<p>尝试了用：</p>
<pre><code>&lt;a href=&apos;javascript:fn()&apos; id=&apos;stop&apos;&gt;收起&lt;/a&gt;
</code></pre><p>可以在全局作用域的情况下，定义一个fn可以使用调用方法fn，然而这样要就传入的数据也必须是全局的变量，这样很不好，所以不推荐。网上查阅资料以后，明白是因为新创建的元素，on无法绑定事件，这个时候就需要使用专门用于这种情况的live来绑定。</p>
<p>W3C对于live的定义：live()方法适用于匹配选择器的当前及未来的元素。</p>
<p>jq1.7以后推荐使用on来代替其他事件绑定的方法，on代替live的写法：</p>
<pre><code>&lt;div class=&quot;box&quot; style=&quot;width: 200px;&quot;&gt;
    &lt;a href=&quot;&quot; id=&quot;stop&quot;&gt;&lt;/a&gt;
&lt;/div&gt;
</code></pre><p>注意要写全了才有效果，没有写全无效</p>
<pre><code>$(&quot;.box&quot;).on(&quot;click&quot;,&quot;#stop&quot;,function(){

});
</code></pre><p>方法二  绑个动态id利用  onclick（fn（id））来解决</p>
<pre><code>function remove(id){
    $(&quot;#film&quot;+id).remove();
}    


&lt;tr class=&quot;table-item&quot; id=&quot;film1&quot;&gt;
    &lt;td &gt;一条狗的使命&lt;/td&gt;
    &lt;td &gt;电影&lt;/td&gt;
    &lt;td class=&quot;operate&quot;&gt;&lt;span class=&quot;orange&quot; onclick=&quot;remove(1)&quot;&gt;删除&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
</code></pre><h1 id="禁用浏览器的backspace默认回退事件"><a href="#禁用浏览器的backspace默认回退事件" class="headerlink" title="禁用浏览器的backspace默认回退事件"></a>禁用浏览器的backspace默认回退事件</h1><p>编辑文本的时候不小心按backspace会直接返回上一页，避免这个功能</p>
<pre><code>function doKey(e){
    var ev = e || window.event;//获取event对象
    var obj = ev.target || ev.srcElement;//获取触发事件的obj
    var t = obj.type || obj.getAttribute(&apos;type&apos;);//获取事件源类型
    if(ev.keyCode == 8 &amp;&amp; t != &quot;password&quot; &amp;&amp; t != &quot;text&quot; &amp;&amp; t != &quot;textarea&quot;){
        return false;
    }
}
//禁止后退键 作用于Firefox、Opera
document.onkeypress=doKey;
//禁止后退键  作用于IE、Chrome
document.onkeydown=doKey;
</code></pre><h1 id="‘’-this-的意思"><a href="#‘’-this-的意思" class="headerlink" title="$(‘’,this)的意思"></a>$(‘’,this)的意思</h1><pre><code>$(&apos;.ui-selecter&apos;,this)选择的是现在选项中的child里面class是ui-selecter的
意思跟jQuery(this).find(&quot;.ui-selecter&quot;);等同
</code></pre><h1 id="a-amp-amp-b-amp-amp-c"><a href="#a-amp-amp-b-amp-amp-c" class="headerlink" title="a&amp;&amp;b&amp;&amp;c"></a>a&amp;&amp;b&amp;&amp;c</h1><pre><code>a&amp;&amp;b是if(a){b}

那么a&amp;&amp;b&amp;&amp;c&amp;&amp;dd

是如果a为真那么返回b，如果b为真那么返回c一直连续下去

1&amp;&amp;$(&quot;#text1&quot;).addClass(&apos;none&apos;)&amp;&amp;$(&quot;#text&quot;).html(&quot;123&quot;)&amp;&amp;$(&quot;#text&quot;).removeClass(&apos;text&apos;);

这样就会执行下面的所有的操作
</code></pre><p>需要留意中间不能出现false否则后面的操作不会执行,</p>
<p>需要注意的是function没有返回值的时候，返回的是undefined，后续不会执行，若想要连续，需要返回一个不为false的内容</p>
<pre><code>(function(){console.log(1); return true})()&amp;&amp;(alert(1));


(function(){console.log(1);})()&amp;&amp;(alert(1)); //不会执行
</code></pre><h1 id="元素未显示设置width-height时，获取宽度为auto"><a href="#元素未显示设置width-height时，获取宽度为auto" class="headerlink" title="元素未显示设置width/height时，获取宽度为auto"></a>元素未显示设置width/height时，获取宽度为auto</h1><pre><code>$(obj).width();
用css(&quot;width&quot;)和offset().width都是auto
</code></pre><h1 id="this的指向问题"><a href="#this的指向问题" class="headerlink" title="this的指向问题"></a>this的指向问题</h1><p><img src="http://i.imgur.com/TKo6lJf.png" alt=""></p>
<pre><code>第一个this为window

第二个this为e
</code></pre><p>个人思路：</p>
<pre><code>this指向的是调用这个函数的对象

第一个this调用实际上是
fn();   //后执行
相当于window.fn();   
所以调用的对象时window


而第二个this是在
fn().init()；  后执行
所以想执行这个这个函数的对象是fn()；而fn返回的是e所以结果为e
</code></pre><h1 id="select选中的选择的index"><a href="#select选中的选择的index" class="headerlink" title="select选中的选择的index"></a>select选中的选择的index</h1><pre><code>&lt;select name=&quot;&quot; class=&quot;btn&quot;&gt;
    &lt;option value=&quot;11&quot;&gt;1&lt;/option&gt;
    &lt;option value=&quot;22&quot;&gt;2&lt;/option&gt;
    &lt;option value=&quot;33&quot;&gt;3&lt;/option&gt;
    &lt;option value=&quot;44&quot;&gt;4&lt;/option&gt;
&lt;/select&gt;


$(&quot;.btn&quot;).click(function(){
    console.log($(this)[0].selectedIndex);
})

 //select 元素的自带属性   选中的选项的index，从0开始
</code></pre><p>获取选中文本：<br>  $(“#ddlregtype”).find(“option:selected”).text();</p>
<h1 id="checked判断是否选中"><a href="#checked判断是否选中" class="headerlink" title="checked判断是否选中"></a>checked判断是否选中</h1><pre><code>$(this).find(&quot;input&quot;).is(&apos;:checked&apos;)
</code></pre><h1 id="改变数据的保留小数位"><a href="#改变数据的保留小数位" class="headerlink" title="改变数据的保留小数位"></a>改变数据的保留小数位</h1><pre><code>number.toFixed(1)   //保留小数1位
</code></pre><h1 id="字符拼接的时候判断加不加元素"><a href="#字符拼接的时候判断加不加元素" class="headerlink" title="字符拼接的时候判断加不加元素"></a>字符拼接的时候判断加不加元素</h1><pre><code>str+=(value.flag == 1 ? &apos;&lt;span class=&quot;icon-star&quot;&gt;&lt;/span&gt;&apos; : &apos;&apos;)s;
</code></pre><h1 id="手机端-点击号码直接呼叫号码"><a href="#手机端-点击号码直接呼叫号码" class="headerlink" title="手机端 点击号码直接呼叫号码"></a>手机端 点击号码直接呼叫号码</h1><pre><code>&lt;a href=&quot;tel:18980925161&quot;&gt;12312312&lt;/a&gt;
</code></pre><h1 id="按后退键不刷新问题"><a href="#按后退键不刷新问题" class="headerlink" title="按后退键不刷新问题"></a>按后退键不刷新问题</h1><p>因为后退键以后数据都是从缓存中加载的，部分其他动态数据无法正常显示<br>这个时候的做法可以是</p>
<p>-自动刷新页面，可以在缓存中增加一个条件来判断是否是返回页面，是就刷新</p>
<pre><code>(!+sessionStorage.count)&amp;&amp;(sessionStorage.count=1)&amp;&amp;(window.location.href = location.href+&apos;?time=&apos;+((new Date()).getTime()));
$(&quot;.goods_list&quot;).find(&quot;dl&quot;).click(function(){
    sessionStorage.count=0;
});
$(&quot;#orderGoods&quot;).click(function(){
    sessionStorage.count=0;
});
</code></pre><p>-禁止用户缓存</p>
<pre><code>&lt;meta http-equiv=&quot;Expires&quot; CONTENT=&quot;0&quot;&gt;
&lt;meta http-equiv=&quot;Cache-Control&quot; CONTENT=&quot;no-cache&quot;&gt;
&lt;meta http-equiv=&quot;Cache-Control&quot; CONTENT=&quot;no-store&quot;&gt;
</code></pre><p>浏览器自带的返回功能不会刷新页面，</p>
<pre><code>用 javascript 进行页面跳转既可达到返回的目的，又可刷新页面：window.location.href=返回页面 即可。
</code></pre><p>-最好的解决办法</p>
<pre><code>上一个页面

(!sessionStorage.url)&amp;&amp;(sessionStorage.url=window.location.href);

下一个页面

window.history.pushState(&apos;&apos;, &quot;title&quot;, &quot;?123&quot;);
$(window).on(&quot;popstate&quot;, function(e) {   //点击了返回上一页
    window.location.href=sessionStorage.url+&apos;?time=&apos;+((new Date()).getTime());
    e.preventDefault();
});
</code></pre><h1 id="获取json的key值"><a href="#获取json的key值" class="headerlink" title="获取json的key值"></a>获取json的key值</h1><pre><code>var json={
    name:&quot;tom&quot;,
    age:18
};
function displayProp(obj){
    var keys=[];
    var values=[];
    for(var name in obj){
        keys.push(name);
        values.push(obj[name]);
    }
    console.log(keys);
    console.log(values);
}
displayProp(json);
</code></pre><h1 id="判断IE浏览器的版本"><a href="#判断IE浏览器的版本" class="headerlink" title="判断IE浏览器的版本"></a>判断IE浏览器的版本</h1><pre><code>IE版本    支持的状态
10及以下    document.all
9及以下    document.all &amp;&amp; !window.atob
8及以下    document.all &amp;&amp; !document.addEventListener
7及以下    document.all &amp;&amp; !document.querySelector
6及以下    document.all &amp;&amp; !window.XMLHttpRequest
5.x    document.all &amp;&amp; !document.compatMode


下面的条件代码只会在IE7及一下浏览器中运行

if (document.all &amp;&amp; !document.querySelector) {
alert(&apos;IE7 or lower&apos;);
}
下面这一个只会运行在IE8中，并且不支持IE7或者IE9：

if (document.all &amp;&amp; document.querySelector &amp;&amp; !document.addEventListener) {
alert(&apos;IE8&apos;);
}
下面的条件代码当浏览器为IE11+ 或者非IE时为真

if (!document.all) {
alert(&apos;IE11+ or not IE&apos;);
}



IE11或者非IE

if (!document.all) {
alert(&apos;IE11+ or not IE&apos;);
}
IE10

if (document.all &amp;&amp; document.addEventListener &amp;&amp; window.atob) {
alert(&apos;IE10&apos;);
}
IE9

if (document.all &amp;&amp; document.addEventListener &amp;&amp; !window.atob) {
alert(&apos;IE9&apos;);
}
IE8上面已经给出

if (document.all &amp;&amp; document.querySelector &amp;&amp; !document.addEventListener) {
alert(&apos;IE8&apos;);
}
IE7

if (document.all &amp;&amp; window.XMLHttpRequest &amp;&amp; !document.querySelector) {
alert(&apos;IE7&apos;);
}
IE6

if (document.all &amp;&amp; document.compatMode &amp;&amp; !window.XMLHttpRequest) {
alert(&apos;IE6&apos;);
}
检测IE版本

var win = window;
var doc = win.document;
var input = doc.createElement (&quot;input&quot;);

var ie = (function (){
//&quot;!win.ActiveXObject&quot; is evaluated to true in IE11
if (win.ActiveXObject === undefined) return null;
if (!win.XMLHttpRequest) return 6;
if (!doc.querySelector) return 7;
if (!doc.addEventListener) return 8;
if (!win.atob) return 9;
//&quot;!doc.body.dataset&quot; is faster but the body is null when the DOM is not
//ready. Anyway, an input tag needs to be created to check if IE is being
//emulated
if (!input.dataset) return 10;
return 11;
})();
</code></pre><h1 id="laypage总页数只有1的时候不显示"><a href="#laypage总页数只有1的时候不显示" class="headerlink" title="laypage总页数只有1的时候不显示"></a>laypage总页数只有1的时候不显示</h1><p>自己加代码</p>
<pre><code>/*=========================总页数只有一页的情况=================================*/
if(+total===1){
    var str=&quot;&quot;;
    str+=&apos;&lt;div class=&quot;layui-box layui-laypage layui-laypage-default&quot; id=&quot;layui-laypage-0&quot;&gt;&apos;;
        str+=&apos;&lt;a href=&quot;{:U(&apos;Home/Information/infoCenter&apos;)}?p=1&quot; &gt;&lt;em class=&quot;layui-laypage-em&quot;&gt;&lt;/em&gt;&lt;em&gt;1&lt;/em&gt;&lt;/&gt; &apos;;
    str+=&apos; &lt;/div&gt;&apos;;
    $(&quot;#page&quot;).html(str);
}
</code></pre><h1 id="input框只能输入数字"><a href="#input框只能输入数字" class="headerlink" title="input框只能输入数字"></a>input框只能输入数字</h1><pre><code>for(var i=0;i&lt;$inputs.size();i++){
    $inputs.eq(i).on(&quot;keydown&quot;,function(e){
        var isNumber=0;
        (e.keyCode&gt;47&amp;&amp;e.keyCode&lt;58)&amp;&amp;(isNumber=1); //上面的键盘数字
        (e.keyCode&gt;95&amp;&amp;e.keyCode&lt;106)&amp;&amp;(isNumber=2);//小键盘数字
        (e.keyCode==8 ||e.keyCode==9)&amp;&amp;(isNumber=3); //backspace
        if(!isNumber){
           return false;
        }
    });
}



方法一：禁止中文输入法 

&lt;input type=&quot;text&quot;  style=&quot;ime-mode:disabled&quot;&gt;


方法二：禁止黏贴，禁止拖拽，禁止中文输入法！
 这种方法是最强的禁止 中文输入
 &lt;input type=&quot;text&quot; onpaste=&quot;return false&quot; ondragenter=&quot;return false&quot; oncontextmenu=&quot;return false;&quot; style=&quot;ime-mode:disabled&quot;/&gt;
</code></pre><h1 id="阻止backspace返回上一次"><a href="#阻止backspace返回上一次" class="headerlink" title="阻止backspace返回上一次"></a>阻止backspace返回上一次</h1><pre><code>/*======================阻止backspace的默认行为=========================*/
$( document ).keydown( function( event ) {
    if ( event.keyCode == 8 &amp;&amp; !$(&quot;input&quot;).is(&quot;:focus&quot;)) {
        event.preventDefault();
    }
} );
</code></pre><h1 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h1><pre><code>在做项目的时候经常会碰到上传下载,通常在上传完文件以后会把文件在项目中的相对路径存到数据库以便下载，如果想直接下载文件，不通过后台action，则可以直接把文件路径给a标签的href属性，例如：

&lt;a href=&quot;/uploadfolder/xxxx.txt&quot;&gt;点击下载&lt;/a&gt;
这样用户在点击这个链接的时候，就会直接下载这个文件，但是这里有个问题，像txt，jpg这些浏览器支持直接打开的文件是不会执行下载的，而是会直接打开。这时候可以给a标签添加一个download属性，例如：

&lt;a href=&quot;/uploadfolder/xxxx.txt&quot; download=&quot;文件名.txt&quot;&gt;点击下载&lt;/a&gt;
download也可以不给值，这样就会使用默认的文件名。
</code></pre><h1 id="判断多选框是否选中"><a href="#判断多选框是否选中" class="headerlink" title="判断多选框是否选中"></a>判断多选框是否选中</h1><pre><code>if ($(&apos;#checkbox-id&apos;).attr(&apos;checked&apos;)) {
    // do something
}


 $(&apos;input[name=&quot;video_type&quot;]:checked&apos;).val(); //获取多选选中的值




require([&apos;jquery&apos;], function($) {   //判断是否登陆
    $.ajax({
        url: &apos;/Home/Base/checkIsLogin &apos;,
        dataType: &quot;json&quot;,
        type: &apos;get&apos;,
        success: function(data) {
            //0  没有登陆  1登陆
            if(data.status){
                $(&quot;#login&quot;).addClass(&quot;none&quot;);
                $(&quot;#register&quot;).addClass(&quot;none&quot;);
            }
        }
    });
});
</code></pre><h1 id="清空测试线上的缓存"><a href="#清空测试线上的缓存" class="headerlink" title="清空测试线上的缓存"></a>清空测试线上的缓存</h1><p><a href="http://192.168.2.31/Home/Base/clear" target="_blank" rel="noopener">http://192.168.2.31/Home/Base/clear</a></p>
<h1 id="each的使用"><a href="#each的使用" class="headerlink" title="each的使用"></a>each的使用</h1><p>  $(selector).each(function(index,element))</p>
<p>  $.each(arr1, function(i,val){<br>      alert(i);<br>      alert(val);<br>  });  </p>
<h1 id="点击的自锁"><a href="#点击的自锁" class="headerlink" title="点击的自锁"></a>点击的自锁</h1><pre><code>var double=true;
if(double){
    double=false;
    obj.animate(json,function(){

     double=true;
    })
}
</code></pre><h1 id="同步搜索"><a href="#同步搜索" class="headerlink" title="同步搜索"></a>同步搜索</h1><pre><code>var keywordLength = 0;
//同步搜索
$(&quot;#file_name&quot;).on(&quot;keyup&quot;, function() {
    var $value = $(this).val();
    var keyword = $value.replace(/(^\s*)|(\s*$)/g, &quot;&quot;); //除去空格
    var type = $(&quot;#film_type&quot;).val();
    if (keyword.length != keywordLength &amp;&amp; keyword != &quot;&quot;) { //当中文输入的时候才请求,关键字不为空
        post_ajax(keyword, type);
    }
    keywordLength = keyword.length;
    (keyword == &quot;&quot;) &amp;&amp; ($(&quot;#search-items&quot;).html(&quot;&quot;));
});
</code></pre><h1 id="layer弹出页面获取子页面元素的dom"><a href="#layer弹出页面获取子页面元素的dom" class="headerlink" title="layer弹出页面获取子页面元素的dom"></a>layer弹出页面获取子页面元素的dom</h1><pre><code>,success: function(layero, index){
    var body = layer.getChildFrame(&apos;body&apos;, index);
    body.find(&quot;#close&quot;).click(function(){
         layer.close(index);
     })
}
</code></pre><h1 id="子页面让父页面刷新"><a href="#子页面让父页面刷新" class="headerlink" title="子页面让父页面刷新"></a>子页面让父页面刷新</h1><pre><code>window.parent.document.location.href=url;
</code></pre><h1 id="btn点击置灰，不能点"><a href="#btn点击置灰，不能点" class="headerlink" title="btn点击置灰，不能点"></a>btn点击置灰，不能点</h1><pre><code>$this.removeClass(&apos;disabled&apos;).prop(&apos;disabled&apos;, false);
</code></pre><h1 id="全选，完整的全选功能"><a href="#全选，完整的全选功能" class="headerlink" title="全选，完整的全选功能"></a>全选，完整的全选功能</h1><pre><code>var numAll=$(&quot;.chk_id&quot;).size();
$(&apos;body&apos;).on(&apos;click&apos;,&quot;#selectAll&quot;, function(){
    var flag=$(this).is(&quot;:checked&quot;);
    $(&quot;.chk_id&quot;).each(function (i,val) {
        $(val).get(0).checked=flag;
    });
});
$(&quot;body&quot;).on(&quot;click&quot;,&quot;.chk_id&quot;,function () {
    var num=$(&quot;.chk_id&quot;).filter(&quot;:checked&quot;).size();
    if(num!=numAll){
        $(&quot;#selectAll&quot;).get(0).checked=false;
    }else {
        $(&quot;#selectAll&quot;).get(0).checked=true;
    }
})
</code></pre><p>判断是否全选：</p>
<pre><code>$(&quot;input[name=&apos;&apos;]&quot;).length == $(&quot;input[name=&apos;[]&apos;]:checked&quot;).length
</code></pre><h1 id="input-disable不能提交"><a href="#input-disable不能提交" class="headerlink" title="input disable不能提交"></a>input disable不能提交</h1><p>提交的之前遍历所有的input，选中的增加一个对象的input type=“hidden” 将对应的name和val赋予即可</p>
<pre><code>$auto_del.find(&quot;input&quot;).each(function(i,val){
    if($(val).get(0).checked){
        var input=&quot;&lt;input type=&apos;hidden&apos; name=&apos;&quot;+$(val).attr(&quot;name&quot;)+&quot;&apos; value=&apos;&quot;+$(val).val()+&quot;&apos;&gt;&quot;;
        $(val).parents(&quot;.auto-del&quot;).append(input)
    }
    $(val).eq(0).attr(&quot;disabled&quot;,true);
});
</code></pre><h1 id="table设置了宽度百分比但是不生效的问题"><a href="#table设置了宽度百分比但是不生效的问题" class="headerlink" title="table设置了宽度百分比但是不生效的问题"></a>table设置了宽度百分比但是不生效的问题</h1><p>要注意内容是中文还是英文，默认英文不换行，中文换行因此要设置中英文都强制换行</p>
<pre><code>中英文都换行：

  white-space:pre-wrap;
  word-break:break-all;
</code></pre><p>注意：设置中英文都换行以后空格也会被算在其中所以td中的内容尽量不要用空格</p>
<h1 id="判断是否选中多选框"><a href="#判断是否选中多选框" class="headerlink" title="判断是否选中多选框"></a>判断是否选中多选框</h1><pre><code>if( $(&apos;input[name=&quot;chargeTypes[]&quot;]:checked&apos;).length == 0 ){
</code></pre><h1 id="tr的上下顺序互换"><a href="#tr的上下顺序互换" class="headerlink" title="tr的上下顺序互换"></a>tr的上下顺序互换</h1><pre><code>function downSort(k) {
    // 当前节点
    var _my = $(k).closest(&apos;tr&apos;);
    var _myval = _my.html();
    //当前节点的后一个兄弟节点
    var _next = $(k).closest(&apos;tr&apos;).next();
    var _nextval = _next.html();

    if (_nextval != null) {
        //互换
        _my.empty().html(_nextval);
        _next.empty().html(_myval);
    }
}


function upSort(k) {

    // 当前节点
    var _my = $(k).closest(&apos;tr&apos;);
    var _myval = _my.html();
    var index=$(k).closest(&apos;tr&apos;).data(&quot;index&quot;);
    if(index==1){
        return false;
    }
    //当前节点的前一个兄弟节点
    var _pre = $(k).closest(&apos;tr&apos;).prev();
    var _preval = _pre.html();
    //查找是否有th
    var th = _pre.find(&apos;th&apos;).html();
    if (th == null) {
        //互换
        _my.empty().html(_preval);
        _pre.empty().html(_myval);
    }
}







&lt;empty name=&quot;infos&quot;&gt;
    &lt;include file=&quot;Public:nosearch&quot; /&gt;
    &lt;else /&gt;

&lt;/empty&gt;
</code></pre><h1 id="判断是手机端还是pc端"><a href="#判断是手机端还是pc端" class="headerlink" title="判断是手机端还是pc端"></a>判断是手机端还是pc端</h1><pre><code>function browserRedirect() {
    var sUserAgent = navigator.userAgent.toLowerCase();
    var bIsIpad = sUserAgent.match(/ipad/i) == &quot;ipad&quot;;
    var bIsIphoneOs = sUserAgent.match(/iphone os/i) == &quot;iphone os&quot;;
    var bIsMidp = sUserAgent.match(/midp/i) == &quot;midp&quot;;
    var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == &quot;rv:1.2.3.4&quot;;
    var bIsUc = sUserAgent.match(/ucweb/i) == &quot;ucweb&quot;;
    var bIsAndroid = sUserAgent.match(/android/i) == &quot;android&quot;;
    var bIsCE = sUserAgent.match(/windows ce/i) == &quot;windows ce&quot;;
    var bIsWM = sUserAgent.match(/windows mobile/i) == &quot;windows mobile&quot;;
    if (bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM) {
        console.log(&quot;phone&quot;);
        $(&quot;.phone_icon&quot;).removeClass(&quot;none&quot;);
    } else {
        console.log(&quot;pc&quot;);
        $(&quot;.phone_icon&quot;).addClass(&quot;none&quot;);
    }
}
</code></pre><h1 id="滚动执行只加载一次"><a href="#滚动执行只加载一次" class="headerlink" title="滚动执行只加载一次"></a>滚动执行只加载一次</h1><pre><code>(function() {
    var finished = true;
    function loadData() {
        //xxxx
        finished = true;
    }
    dom.onscroll = function() {
        if(finished &amp;&amp; this.scrollHeight - this.clientHeight == this.scrollTop) {
            finished = false;
            loadData();
        }
    }
})();
</code></pre><h1 id="注释报错"><a href="#注释报错" class="headerlink" title="注释报错"></a>注释报错</h1><pre><code>js不要在大括号后面写注释


错误：
if ($(&quot;#worktype-id&quot;).val() == &apos;2&apos;) {//工作类型
   alert($(&quot;#worktype-id&quot;).val());
 }

js的注释不要紧挨着“{ }”写，会出错！！！
</code></pre><h1 id="分享到朋友圈"><a href="#分享到朋友圈" class="headerlink" title="分享到朋友圈"></a>分享到朋友圈</h1><p> 1.外部浏览器分享（UC的原理不明）</p>
<pre><code>  body下面加

&lt;div style=&quot;overflow: hidden;height: 0&quot;&gt;
    &lt;img src=&quot;/Public/home/images/share_logo01.jpg&quot; alt=&quot;&quot; style=&quot;&quot;&gt;
&lt;/div&gt;
</code></pre><p>2.微信内部浏览器的分享</p>
<pre><code>js-sdk（后端的配置特别重要）

wx.config({
    debug: false,
    appId: &apos;{$sign[&quot;appId&quot;]}&apos;,
    timestamp: {$sign[&quot;timestamp&quot;]},
    nonceStr: &apos;{$sign[&quot;nonceStr&quot;]}&apos;,
    signature: &apos;{$sign[&quot;signature&quot;]}&apos;,
    jsApiList: [&apos;onMenuShareTimeline&apos;,&apos;onMenuShareAppMessage&apos;,&apos;onMenuShareQQ&apos;,&apos;onMenuShareQZone&apos;,&apos;onMenuShareWeibo&apos;]
});    .
</code></pre><h1 id="鼠标点击事件"><a href="#鼠标点击事件" class="headerlink" title="鼠标点击事件"></a>鼠标点击事件</h1><pre><code>document.onkeydown=function(event){
      var e = event || window.event || arguments.callee.caller.arguments[0];
      if(e &amp;&amp; e.keyCode==27){ // 按 Esc 
          //要做的事情
        }
      if(e &amp;&amp; e.keyCode==113){ // 按 F2 
           //要做的事情
         }
        if(e &amp;&amp; e.keyCode==13){ // enter 键
            //要做的事情
       }
   };
</code></pre><h1 id="window下ajax返回204却走的error"><a href="#window下ajax返回204却走的error" class="headerlink" title="window下ajax返回204却走的error"></a>window下ajax返回204却走的error</h1><pre><code>原因：是window上面用原生txt编辑器打开会导致编码有问题

重新拉代码，下载的编辑器打开修改的，保证编辑器设置的文件编码是utf-8
</code></pre><h1 id="js捕获鼠标右键菜单中的粘帖事件"><a href="#js捕获鼠标右键菜单中的粘帖事件" class="headerlink" title="js捕获鼠标右键菜单中的粘帖事件"></a>js捕获鼠标右键菜单中的粘帖事件</h1><pre><code>$(&quot;#input&quot;).bind(&apos;paste&apos;, function(e) { 
var el = $(this); 
setTimeout(function() { 
var text = $(el).val(); 
alert(text); 
}, 100); 
}); 
</code></pre><h1 id="手机视频播放全屏"><a href="#手机视频播放全屏" class="headerlink" title="手机视频播放全屏"></a>手机视频播放全屏</h1><pre><code>//安卓
if(myVideo.webkitRequestFullScreen){
    myVideo.webkitRequestFullScreen()
}

//ios默认全屏播放















    if(myVideo.webkitCancelFullScreen){
        myVideo.webkitCancelFullScreen();
    }
</code></pre><h1 id="全屏播放时黑屏，需要重新加载一次"><a href="#全屏播放时黑屏，需要重新加载一次" class="headerlink" title="全屏播放时黑屏，需要重新加载一次"></a>全屏播放时黑屏，需要重新加载一次</h1><pre><code>myVideo.load();
myVideo.play();
</code></pre><h1 id="防止用户恶意输入"><a href="#防止用户恶意输入" class="headerlink" title="防止用户恶意输入"></a>防止用户恶意输入</h1><pre><code>function SaferHTML(templateData) {
  let s = templateData[0];
  for (let i = 1; i &lt; arguments.length; i++) {
    let arg = String(arguments[i]);

    // 在替换中转义特殊字符
    s += arg.replace(/&amp;/g, &quot;&amp;amp;&quot;)
            .replace(/&lt;/g, &quot;&amp;lt;&quot;)
            .replace(/&gt;/g, &quot;&amp;gt;&quot;);

    // 不转义模板中的字符
    s += templateData[i];
  }
  return s;
}
</code></pre><h1 id="js代码中有script标签"><a href="#js代码中有script标签" class="headerlink" title="js代码中有script标签"></a>js代码中有script标签</h1><pre><code>var sender = &apos;&lt;script&gt;alert(&quot;abc&quot;)&lt;\/script&gt;&apos;; // 恶意代码
</code></pre><h1 id="数字格式化"><a href="#数字格式化" class="headerlink" title="数字格式化"></a>数字格式化</h1><pre><code>/*
* 参数说明：
* number：要格式化的数字
* decimals：保留几位小数
* dec_point：小数点符号
* thousands_sep：千分位符号
* */
Vue.filter(&apos;number_format&apos;,window.number_format=function(number, decimals, dec_point, thousands_sep){

    number = (number + &apos;&apos;).replace(/[^0-9+-Ee.]/g, &apos;&apos;);
    var n = !isFinite(+number) ? 0 : +number,
        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
        sep = (typeof thousands_sep === &apos;undefined&apos;) ? &apos;,&apos; : thousands_sep,
        dec = (typeof dec_point === &apos;undefined&apos;) ? &apos;.&apos; : dec_point,
        s = &apos;&apos;,
        toFixedFix = function (n, prec) {
            var k = Math.pow(10, prec);
            return &apos;&apos; + Math.ceil(n * k) / k;
        };

    s = (prec ? toFixedFix(n, prec) : &apos;&apos; + Math.round(n)).split(&apos;.&apos;);
    var re = /(-?\d+)(\d{3})/;
    while (re.test(s[0])) {
        s[0] = s[0].replace(re, &quot;$1&quot; + sep + &quot;$2&quot;);
    }

    if ((s[1] || &apos;&apos;).length &lt; prec) {
        s[1] = s[1] || &apos;&apos;;
        s[1] += new Array(prec - s[1].length + 1).join(&apos;0&apos;);
    }
    return s.join(dec);
});
</code></pre><h1 id="删除数组中的某个元素"><a href="#删除数组中的某个元素" class="headerlink" title="删除数组中的某个元素"></a>删除数组中的某个元素</h1><pre><code>let address_arr=[
    {
        area:&apos;红光&apos;,
        building:18,
        unit:2,
        layer:6,
        number:1020
    },
    {
        area: &apos;红光&apos;,
        building: 18,
        unit: 2,
        layer: 6,
        number: 120
    }
];
console.log(address_arr.splice(0, 1));  //删除的元素
console.log(address_arr);  //删除后的数组
</code></pre><p>splice和slice的区别：slice 不改变元素的内容，删除后还是原本的数组</p>
<h1 id="生成一个随机0-3的随机数"><a href="#生成一个随机0-3的随机数" class="headerlink" title="生成一个随机0~3的随机数"></a>生成一个随机0~3的随机数</h1><pre><code>Math.round(Math.random() * 10 / 2.5)
</code></pre><h1 id="循环延时"><a href="#循环延时" class="headerlink" title="循环延时"></a>循环延时</h1><pre><code>for (let i = 0; i &lt; 5; i++) {
　　setTimeout(function () {
  　　　　console.log(i);
　　}, i * 1000);
}
</code></pre><p>   一般的延时会因为js的运行机制一口气现实 1 2 3 4 5没有时间间隔<br>，先运行fo，在运行setTimeout</p>
<h1 id="console-claen-自动循环"><a href="#console-claen-自动循环" class="headerlink" title="console.claen()自动循环"></a>console.claen()自动循环</h1><p>浏览器插件的问题</p>
<h1 id="倒计时"><a href="#倒计时" class="headerlink" title="倒计时"></a>倒计时</h1><pre><code>let t = this.validate_time;  //默认的倒计时时间
countdown(t);
function countdown(time) {
    if (time &lt;= 0) {
        that.validate_message=&apos;获取验证码&apos;;
        that.validate_disabled=false;
        that.validate_time=t;
        return false;
    } else {
        time--;
        that.validate_message=`${time}秒后重新发送`;
        that.validate_disabled=true;
        that.validate_time=time;
        setTimeout(function () {
            countdown(time);
        }, 1000);
    }
}
</code></pre><h1 id="身份证的详细验证"><a href="#身份证的详细验证" class="headerlink" title="身份证的详细验证"></a>身份证的详细验证</h1><p>const validateIdCard=function (idCard){<br>    //15位和18位身份证号码的正则表达式<br>    var regIdCard=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;</p>
<pre><code>//如果通过该验证，说明身份证格式正确，但准确性还需计算
if(regIdCard.test(idCard)){
    if(idCard.length==18){
        var idCardWi=new Array( 7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2 ); //将前17位加权因子保存在数组里
        var idCardY=new Array( 1, 0, 10, 9, 8, 7, 6, 5, 4, 3, 2 ); //这是除以11后，可能产生的11位余数、验证码，也保存成数组
        var idCardWiSum=0; //用来保存前17位各自乖以加权因子后的总和
        for(var i=0;i&lt;17;i++){
            idCardWiSum+=idCard.substring(i,i+1)*idCardWi[i];
        }
        var idCardMod=idCardWiSum%11;//计算出校验码所在数组的位置
        var idCardLast=idCard.substring(17);//得到最后一位身份证号码
        //如果等于2，则说明校验码是10，身份证号码最后一位应该是X
        if(idCardMod==2){
            if(idCardLast==&quot;X&quot;||idCardLast==&quot;x&quot;){
                console.log(&quot;恭喜通过验证啦！&quot;);
            }else{
                console.log(&quot;身份证号码错误！&quot;);
            }
        }else{
            //用计算出的验证码与最后一位身份证号码匹配，如果一致，说明通过，否则是无效的身份证号码
            if(idCardLast==idCardY[idCardMod]){
                console.log(&quot;恭喜通过验证啦！&quot;);
            }else{
                console.log(&quot;身份证号码错误！&quot;);
            }
        }
    }
}else{
    console.log(&quot;身份证格式不正确!&quot;);
}
</code></pre><p>}</p>
<h1 id="获取上传图片的宽高，并且浏览"><a href="#获取上传图片的宽高，并且浏览" class="headerlink" title="获取上传图片的宽高，并且浏览"></a>获取上传图片的宽高，并且浏览</h1><p>以前任务上传图片很难，但经过实际做过以后发现其实也没有想象中那么难<br>特别是，h5以后的新api对获取图片信息有质的飞升，在此特意记录。</p>
<pre><code>function imgUpload() {
    var file = document.getElementById(&apos;img_upload&apos;);
    createReader(file.files[0], function (w, h) { alert(w + &apos; &apos;+ h)});
}
createReader = function(file, whenReady) {
        var reader = new FileReader;
        reader.onload = function (evt) {
            var image = new Image();
            image.onload = function () {
                var width = this.width;
                var height = this.height;
                if (whenReady) whenReady(width, height);
            };
            image.src = evt.target.result;
        };
        reader.readAsDataURL(file);
    }
</code></pre><p>FileReader兼容性IE11</p>
<p>window.URL.createObjectURL兼容性IE11</p>
<p><input type="file"> 元素的files属性要IE10才支持</p>
<p>IE9不支持客户端预览。使用上传插件，上传到服务端，返回图片地址，从而实现预览。</p>
<p>总结：</p>
<p>IE 10以上 </p>
<pre><code>&lt;input type=&quot;file&quot;&gt; +file.files[0]+window.URL.createObjectURL+FileReader
</code></pre><p>IE  9一下</p>
<pre><code>滤镜

file.select();
var reallocalpath = document.selection.createRange().text;


var url = document.getElementById(sourceId).value;

// 非IE6版本的IE由于安全问题直接设置img的src无法显示本地图片，但是可以通过滤镜来实现
pic.style.filter = &quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=&apos;image&apos;,src=\&quot;&quot; + reallocalpath + &quot;\&quot;)&quot;;
// 设置img的src为base64编码的透明图片 取消显示浏览器默认图片
pic.src = &apos;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&apos;;
</code></pre><p>兼容性写法：</p>
<pre><code>&lt;form enctype=&quot;multipart/form-data&quot; name=&quot;form1&quot;&gt;
    &lt;input id=&quot;f&quot; type=&quot;file&quot; name=&quot;f&quot; onchange=&quot;change()&quot; /&gt;
    &lt;div class=&quot;upload&quot;&gt;上传图片&lt;/div&gt;
    &lt;p&gt;预览:&lt;/p&gt;
    &lt;p&gt;
        &lt;img id=&quot;preview&quot; alt=&quot;&quot; name=&quot;pic&quot; /&gt;
    &lt;/p&gt;
&lt;/form&gt;

function change() {
    var pic = document.getElementById(&quot;preview&quot;),
        file = document.getElementById(&quot;f&quot;);

    var ext=file.value.substring(file.value.lastIndexOf(&quot;.&quot;)+1).toLowerCase();

    // gif在IE浏览器暂时无法显示
    if(ext!=&apos;png&apos;&amp;&amp;ext!=&apos;jpg&apos;&amp;&amp;ext!=&apos;jpeg&apos;){
        alert(&quot;图片的格式必须为png或者jpg或者jpeg格式！&quot;);
        return;
    }
    var isIE = navigator.userAgent.match(/MSIE/)!= null,    //判断是不是IE
        isIE6 = navigator.userAgent.match(/MSIE 6.0/)!= null;
    if(isIE) {
        file.select();
        var reallocalpath = document.selection.createRange().text;
        console.log(reallocalpath);

        // IE6浏览器设置img的src为本地路径可以直接显示图片
        if (isIE6) {
            pic.src = reallocalpath;
        }else {
            // 非IE6版本的IE由于安全问题直接设置img的src无法显示本地图片，但是可以通过滤镜来实现
            pic.style.filter = &quot;progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=&apos;image&apos;,src=\&quot;&quot; + reallocalpath + &quot;\&quot;)&quot;;
            // 设置img的src为base64编码的透明图片 取消显示浏览器默认图片
            pic.src = &apos;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&apos;;
        }
    }else {
        html5Reader(file);
    }
}

function html5Reader(file){
    var file = file.files[0];
    var reader = new FileReader();
    reader.readAsDataURL(file);
    reader.onload = function(e){
        var pic = document.getElementById(&quot;preview&quot;);
        pic.src=this.result;
    }
}
</code></pre><p>对于IE9一下的上传，可以利用iframe 隐藏来提交</p>
<h1 id="框架设置默认值"><a href="#框架设置默认值" class="headerlink" title="框架设置默认值"></a>框架设置默认值</h1><pre><code>function fileUpload(options) {
    var opts = options || {};
    var func = function() {};
    this.fileInput = opts.fileInput || null;
    this.url = opts.url || &apos;&apos;;
    this.fileList = [];
    this.onFilter = opts.onFilter || function(f) {return f;};        //选择文件组的过滤方法
    this.onSelect = opts.onSelect || func;            //文件选择后
    this.onProgress = opts.onProgress || func;        //文件上传进度
    this.onSuccess = opts.onSuccess || func;        //文件上传成功时
    this.onFailure = opts.onFailure || func;        //文件上传失败时;
    this.onComplete = opts.onComplete || func;        //文件全部上传完毕时
    this.init();
}
</code></pre><h1 id="简单的深拷贝"><a href="#简单的深拷贝" class="headerlink" title="简单的深拷贝"></a>简单的深拷贝</h1><pre><code>let b=JSON.parse(JSON.stringify(arr));
</code></pre><p>可以拷贝json和arr  不能拷贝function</p>
<h1 id="判断是否是构造函数"><a href="#判断是否是构造函数" class="headerlink" title="判断是否是构造函数"></a>判断是否是构造函数</h1><p>好处是构造函数才能new   对象</p>
<p>function fn（）{</p>
<p>   this. instanceof fn</p>
<p>}</p>
<h1 id="import和module-exports-混用报错"><a href="#import和module-exports-混用报错" class="headerlink" title="import和module.exports 混用报错"></a>import和module.exports 混用报错</h1><p>在听取周哥的意见，将所有ajax提出的时候遇到的问题，</p>
<p>项目是Vue+webpack</p>
<pre><code>Uncaught TypeError: Cannot assign to read only property &apos;exports&apos; of object &apos;#&lt;Object&gt;&apos;
</code></pre><p>查了一下是因为import和module.exports 混用报错</p>
<pre><code>import {normalTime} from &apos;./timeFormat&apos;;

module.exports={
　　normalTime
};
</code></pre><p>webpack 2中不允许混用import和module.exports,</p>
<p>解决办法：</p>
<pre><code>import {normalTime} from &apos;./timeFormat&apos;;

export default normalTime;
</code></pre><h1 id="vue的-路径"><a href="#vue的-路径" class="headerlink" title="vue的@+路径"></a>vue的@+路径</h1><p>vuecli中引用模块的时候总是报错</p>
<p>@ 等价于 /src 这个目录，免得你写麻烦又易错的相对路径</p>
<p>所以推荐文件都放在/src目录下，这样引用比较轻松简单</p>
<h1 id="将json转成url形式"><a href="#将json转成url形式" class="headerlink" title="将json转成url形式"></a>将json转成url形式</h1><p>推荐使用qs  </p>
<pre><code>import qs from &apos;qs&apos;
let a={
    a:1,
    b:2,
    c:3
}
console.log(qs.stringify(a));
a=1&amp;b=2&amp;c=3
</code></pre><p>自定义的方法：</p>
<pre><code>/**
 * param 将要转为URL参数字符串的对象
 * key URL参数字符串的前缀
 * encode true/false 是否进行URL编码,默认为true
 *
 * return URL参数字符串
 */
const urlEncode = function (param, key, encode) {
    if(param==null) return &apos;&apos;;
    let paramStr = &apos;&apos;;
    let t = typeof (param);
    if (t == &apos;string&apos; || t == &apos;number&apos; || t == &apos;boolean&apos;) {
        paramStr += &apos;&amp;&apos; + key + &apos;=&apos; + ((encode==null||encode) ? encodeURIComponent(param) : param);
    } else {
        for (let i in param) {
            let k = key == null ? i : key + (param instanceof Array ? &apos;[&apos; + i + &apos;]&apos; : &apos;.&apos; + i);
            paramStr += urlEncode(param[i], k, encode);
        }
    }
    return paramStr;
};
/*


var obj={name:&apos;tom&apos;,&apos;class&apos;:{className:&apos;class1&apos;},classMates:[{name:&apos;lily&apos;}]};
console.log(urlEncode(obj));
//output: &amp;name=tom&amp;class.className=class1&amp;classMates[0].name=lily
console.log(urlEncode(obj,&apos;stu&apos;));
//output: &amp;stu.name=tom&amp;stu.class.className=class1&amp;stu.classMates[0].name=lily

*/
</code></pre><h1 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h1><p>基本的数据类型</p>
<p>基本数据类型 </p>
<p>值类型：<br>number string boolean null undefined </p>
<p>symbol</p>
<p>引用类型<br> object function array regExp等</p>
<p>检验数据类型的方法：</p>
<p>typeof 适合基本类型和function类型的检测，无法判断null与object</p>
<p>instanceof 适合自定义对象，也可以用来检测原生对象，在不同的iframe 和 window间检测时失效，还需要注意Object.create(null)对象的问题</p>
<p>原理：判断变量的原型链上是否有构造函数的prototype属性</p>
<pre><code>// 判断person是否是object类型对象
person instanceof Object
</code></pre><p>{}.toString 适合内置对象和基元类型，遇到null和undefined失效（IE678返回[object Obejct]）</p>
<p>Object.prototype.toString();</p>
<p>其他转str</p>
<p>值类型：</p>
<pre><code>console.log(String(1) );   // &apos;1&apos;
console.log(String(&apos;123&apos;));  //&apos;123&apos;
console.log(String(null));     //&apos;null&apos;
console.log(String(true));    //&apos;true&apos;
console.log(String(undefined));  //&apos;undefined&apos;
</code></pre><p>引用类型：</p>
<p>对象到字符串</p>
<ul>
<li><p>如果对象有 toString() 方法，就调用 toString() 方法。如果该方法返回原始值，就讲这个值转化为字符串。</p>
</li>
<li><p>如果对象没有 toString() 方法或者 该方法返回的不是原始值，就会调用该对象的 valueOf() 方法。如果存在就调用这个方法，如果返回值是原始值，就转化为字符串。</p>
</li>
<li><p>否则就报错</p>
</li>
</ul>
<p>其他转Number </p>
<p>基本（值）类型：</p>
<pre><code>console.log(Number(1) );     //1
console.log(Number(&apos;123&apos;));   //123
console.log(Number(&apos;123abc&apos;));   //NAN
console.log(Number(null));    //0
console.log(Number(true));    //1
console.log(Number(undefined));   //NAN
</code></pre><p>加减法：</p>
<pre><code>console.log(1+&apos;adc&apos;);   //1abc
console.log(parseInt(&apos;1231addfs&apos;));   //1231
console.log(parseInt(&apos;a1231addfs&apos;));   //NAN
console.log(parseInt(&apos;addfs12321&apos;));   //NAN
</code></pre><p>对象到数字：</p>
<p>区别在于转换为数字先判断 valueOf 方法，再判断 toString 方法。</p>
<p>基本转换为布尔：</p>
<pre><code>undefined
null
-0
+0
NaN
‘’（空字符串）
</code></pre><p>其余的全是true</p>
<p>对象转为布尔</p>
<p>所有对象的布尔值都是true，甚至连false对应的布尔对象也是true。<br>请注意，空对象{}和空数组[]也会被转成true。</p>
<pre><code>var obj = new Boolean(false);
console.log(obj &amp;&amp; true);//true
console.log(true &amp;&amp; obj);//false
</code></pre><p>&amp;&amp; 表达式从第一个开始,遇到值为false的表达式,则返回表达式本身,否则返回最后一个表达式</p>
<p>|| 和 ! 逻辑运算符原理类似</p>
<h2 id="valueOf与toString方法研究"><a href="#valueOf与toString方法研究" class="headerlink" title="valueOf与toString方法研究:"></a>valueOf与toString方法研究:</h2><p>所有JS数据类型都拥有这两个方法，null除外</p>
<p>valueOf() 方法，它的作用是：</p>
<p>如果对象存在任意原始值，它就默认将对象转换为表示它的原始值，如果对象是复合值，而且大多数对象无法真正表示为一个原始值，因此默认的valueOf( )方法简单地返回对象本身，而不是返回一个原始值。</p>
<p>toString(): 将该对象的原始值以字符串形式返回。</p>
<p>默认 [object class]<br>  class是对象的名称：Object String Number Function等</p>
<p>Array  将Aarry的元素转换为字符串，结果由字符串由逗号连起来</p>
<p>Boolean  true-‘true’  false-‘false’</p>
<p>Number   返回数字的文字表示</p>
<p>数值运算里，会优先调用valueOf()，在字符串运算里，会优先调用toString()</p>
<p><img src="https://segmentfault.com/img/bVXTUy?w=668&amp;h=384" alt=""></p>
<h2 id="常见的算法："><a href="#常见的算法：" class="headerlink" title="常见的算法："></a>常见的算法：</h2><p><img src="https://segmentfault.com/img/bVXTUB?w=643&amp;h=510" alt=""></p>
<pre><code>    toString():


    console.log(({}.toString()));;       //=&gt;  &quot;[object Object]&quot;
    console.log([1, 2].toString());;      //=&gt;  &quot;1,2&quot;
    console.log(true.toString());;       //=&gt;  &quot;true&quot;
    console.log(new Date(1970, 0, 1).toString());;  //=&gt;  &quot;Thu Jan 01 1970 00:00:00 GMT+0800 (CST)&quot;

    console.log(Error(&quot;一个错误信息&quot;).toString());;    //=&gt;  &quot;Error: 一个错误信息&quot;

    console.log((function (x) {
        return x
    }).toString());;   //=&gt;  &quot;function (x){return x}&quot;

    console.log(/\d/.toString());;    //=&gt;  &quot;/\\d/&quot;  或者 &quot;/\d/&quot; 浏览器不同返回也可能会不同



    [1,2].valueOf();  //=&gt;  [1,2]  

    (function (){}).valueOf();   //=&gt;  function (){}

    /\d/.valueOf();    //=&gt;  /\d/  

    new Date().valueOf();   //=&gt;  1502941383029



1. []+[] // &quot;&quot;
</code></pre><p> 首先运算符是 + 运算符而且很明显是二元运算符，并且有对象，所以选择最后一点，操作数是对象，将对象转换为原始值。</p>
<p>两边对象都是数组，左边的数组先调用 valueOf() 方法无果，然后去调用 toString(), 方法，在 toString() 的转化规则里面有『将数组转化为字符串，用逗号分隔』，由于没有其他元素，所以直接是空字符串 “”。</p>
<pre><code>{}+[]//0


[]+{}//&quot;[object Object]&quot;
</code></pre><h1 id="svg-制作loading"><a href="#svg-制作loading" class="headerlink" title="svg 制作loading"></a>svg 制作loading</h1><pre><code>HTML代码：
circle {
    -webkit-transition: stroke-dasharray .25s;
    transition: stroke-dasharray .25s;
}
HTML代码：
&lt;svg width=&quot;440&quot; height=&quot;440&quot; viewbox=&quot;0 0 440 440&quot;&gt;
    &lt;circle cx=&quot;220&quot; cy=&quot;220&quot; r=&quot;170&quot; stroke-width=&quot;50&quot; stroke=&quot;#D1D3D7&quot; fill=&quot;none&quot;&gt;&lt;/circle&gt;
    &lt;circle cx=&quot;220&quot; cy=&quot;220&quot; r=&quot;170&quot; stroke-width=&quot;50&quot; stroke=&quot;#00A5E0&quot; fill=&quot;none&quot; transform=&quot;matrix(0,-1,1,0,0,440)&quot; stroke-dasharray=&quot;0 1069&quot;&gt;&lt;/circle&gt;
&lt;/svg&gt;
&lt;p&gt;拖我：&lt;input id=&quot;range&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot; value=&quot;0&quot; style=&quot;width:300px;&quot;&gt;&lt;/p&gt;
JS代码：
if (window.addEventListener) {
    var range = document.querySelector(&quot;#range&quot;), circle = document.querySelectorAll(&quot;circle&quot;)[1];
    if (range &amp;&amp; circle) {
        range.addEventListener(&quot;change&quot;, function() {
            var percent = this.value / 100, perimeter = Math.PI * 2 * 170;
            circle.setAttribute(&apos;stroke-dasharray&apos;, perimeter * percent + &quot; &quot; + perimeter * (1- percent));
        });
    }
}
</code></pre><p><a href="https://www.zhangxinxu.com/wordpress/2015/07/svg-circle-loading/" target="_blank" rel="noopener">https://www.zhangxinxu.com/wordpress/2015/07/svg-circle-loading/</a></p>
<pre><code>circle {
    -webkit-transition: stroke-dasharray .25s;
    transition: stroke-dasharray .25s;
}

.spin{
    animation: ani-demo-spin 700ms linear infinite;
    transform-origin:center center;
}
@keyframes ani-demo-spin {
    from { transform: rotate(0deg);}
    50%  { transform: rotate(180deg);}
    to   { transform: rotate(360deg);}
}
</code></pre><p>配上css</p>
<h1 id="获取滚动条的方法"><a href="#获取滚动条的方法" class="headerlink" title="获取滚动条的方法"></a>获取滚动条的方法</h1><pre><code>let noScroll, scroll, oDiv = document.createElement(&quot;DIV&quot;);
oDiv.style.cssText = &quot;position:absolute; top:-1000px; width:100px; height:100px; overflow:hidden;&quot;;
noScroll = document.body.appendChild(oDiv).clientWidth;
oDiv.style.overflowY = &quot;scroll&quot;;
scroll = oDiv.clientWidth;
document.body.removeChild(oDiv);
this.gutterWidth=noScroll - scroll;
</code></pre>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/js/" rel="tag"># js</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/21/代码的模块化/" rel="next" title="代码的模块化">
                <i class="fa fa-chevron-left"></i> 代码的模块化
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/02/常用css/" rel="prev" title="常用css">
                常用css <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/1.jpg"
                alt="樱月义" />
            
              <p class="site-author-name" itemprop="name">樱月义</p>
              <p class="site-description motion-element" itemprop="description">这是一个记录小知识的地方</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/SakurazukiYoshi" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#webstorm的快捷键"><span class="nav-number">2.</span> <span class="nav-text">webstorm的快捷键</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#添加数组的方式"><span class="nav-number">3.</span> <span class="nav-text">添加数组的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#添加不支持的文件为已经支持的格式"><span class="nav-number">3.1.</span> <span class="nav-text">添加不支持的文件为已经支持的格式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#return-false的应用"><span class="nav-number">4.</span> <span class="nav-text">return false的应用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#兄弟节点"><span class="nav-number">5.</span> <span class="nav-text">兄弟节点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#常用的正则表达式"><span class="nav-number">6.</span> <span class="nav-text">常用的正则表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#点击div以外的元素触发"><span class="nav-number">7.</span> <span class="nav-text">点击div以外的元素触发</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#没有的元素才能出发的事件"><span class="nav-number">8.</span> <span class="nav-text">没有的元素才能出发的事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#对string和array进行删除操作"><span class="nav-number">9.</span> <span class="nav-text">对string和array进行删除操作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#刷新当前的页面"><span class="nav-number">10.</span> <span class="nav-text">刷新当前的页面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#阻止默认事件"><span class="nav-number">11.</span> <span class="nav-text">阻止默认事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#刷新页面以后，需要之前数据的处理"><span class="nav-number">12.</span> <span class="nav-text">刷新页面以后，需要之前数据的处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#方法1"><span class="nav-number">12.1.</span> <span class="nav-text">方法1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法2"><span class="nav-number">12.2.</span> <span class="nav-text">方法2</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#自动获取焦点"><span class="nav-number">13.</span> <span class="nav-text">自动获取焦点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#关闭浏览器预测对字段的输入"><span class="nav-number">14.</span> <span class="nav-text">关闭浏览器预测对字段的输入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#解决缓存问题"><span class="nav-number">15.</span> <span class="nav-text">解决缓存问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ajax上传的数据处理"><span class="nav-number">16.</span> <span class="nav-text">ajax上传的数据处理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#无法被动侦听事件preventDefault"><span class="nav-number">17.</span> <span class="nav-text">无法被动侦听事件preventDefault</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#定时清除localStorage的办法"><span class="nav-number">18.</span> <span class="nav-text">定时清除localStorage的办法</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#获取指定时间的js"><span class="nav-number">19.</span> <span class="nav-text">获取指定时间的js</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#url的编码和解码"><span class="nav-number">20.</span> <span class="nav-text">url的编码和解码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#上一页的地址"><span class="nav-number">21.</span> <span class="nav-text">上一页的地址</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#去掉首尾的空格"><span class="nav-number">22.</span> <span class="nav-text">去掉首尾的空格</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#监听是否点击返回上一页和下一页按钮-并且不返回"><span class="nav-number">23.</span> <span class="nav-text">监听是否点击返回上一页和下一页按钮,并且不返回</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#阻止返回上一页"><span class="nav-number">24.</span> <span class="nav-text">阻止返回上一页</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#popstate事件-用于控制浏览器历史记录的"><span class="nav-number">24.1.</span> <span class="nav-text">popstate事件,用于控制浏览器历史记录的</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五星评价的半星评价"><span class="nav-number">25.</span> <span class="nav-text">五星评价的半星评价</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#利用background来解决"><span class="nav-number">25.1.</span> <span class="nav-text">利用background来解决</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#利用img和div的配和来解决"><span class="nav-number">25.2.</span> <span class="nav-text">利用img和div的配和来解决</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#iconfont的使用"><span class="nav-number">26.</span> <span class="nav-text">iconfont的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#禁止点击事件"><span class="nav-number">27.</span> <span class="nav-text">禁止点击事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符串的截取"><span class="nav-number">28.</span> <span class="nav-text">字符串的截取</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#限制input的输入长度"><span class="nav-number">29.</span> <span class="nav-text">限制input的输入长度</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#js日期格式化"><span class="nav-number">30.</span> <span class="nav-text">js日期格式化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#parseInt-string-radix"><span class="nav-number">31.</span> <span class="nav-text">parseInt(string, radix)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#转义字符”-“"><span class="nav-number">32.</span> <span class="nav-text">转义字符”/“</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#过滤器filter"><span class="nav-number">33.</span> <span class="nav-text">过滤器filter()</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vue，angular和artTemplate的过滤器"><span class="nav-number">34.</span> <span class="nav-text">vue，angular和artTemplate的过滤器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jquery中对动态生成的标签不会响应click事件"><span class="nav-number">35.</span> <span class="nav-text">jquery中对动态生成的标签不会响应click事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#禁用浏览器的backspace默认回退事件"><span class="nav-number">36.</span> <span class="nav-text">禁用浏览器的backspace默认回退事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#‘’-this-的意思"><span class="nav-number">37.</span> <span class="nav-text">$(‘’,this)的意思</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#a-amp-amp-b-amp-amp-c"><span class="nav-number">38.</span> <span class="nav-text">a&amp;&amp;b&amp;&amp;c</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#元素未显示设置width-height时，获取宽度为auto"><span class="nav-number">39.</span> <span class="nav-text">元素未显示设置width/height时，获取宽度为auto</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#this的指向问题"><span class="nav-number">40.</span> <span class="nav-text">this的指向问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#select选中的选择的index"><span class="nav-number">41.</span> <span class="nav-text">select选中的选择的index</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#checked判断是否选中"><span class="nav-number">42.</span> <span class="nav-text">checked判断是否选中</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#改变数据的保留小数位"><span class="nav-number">43.</span> <span class="nav-text">改变数据的保留小数位</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#字符拼接的时候判断加不加元素"><span class="nav-number">44.</span> <span class="nav-text">字符拼接的时候判断加不加元素</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#手机端-点击号码直接呼叫号码"><span class="nav-number">45.</span> <span class="nav-text">手机端 点击号码直接呼叫号码</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#按后退键不刷新问题"><span class="nav-number">46.</span> <span class="nav-text">按后退键不刷新问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#获取json的key值"><span class="nav-number">47.</span> <span class="nav-text">获取json的key值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#判断IE浏览器的版本"><span class="nav-number">48.</span> <span class="nav-text">判断IE浏览器的版本</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#laypage总页数只有1的时候不显示"><span class="nav-number">49.</span> <span class="nav-text">laypage总页数只有1的时候不显示</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#input框只能输入数字"><span class="nav-number">50.</span> <span class="nav-text">input框只能输入数字</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#阻止backspace返回上一次"><span class="nav-number">51.</span> <span class="nav-text">阻止backspace返回上一次</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#下载文件"><span class="nav-number">52.</span> <span class="nav-text">下载文件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#判断多选框是否选中"><span class="nav-number">53.</span> <span class="nav-text">判断多选框是否选中</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#清空测试线上的缓存"><span class="nav-number">54.</span> <span class="nav-text">清空测试线上的缓存</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#each的使用"><span class="nav-number">55.</span> <span class="nav-text">each的使用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#点击的自锁"><span class="nav-number">56.</span> <span class="nav-text">点击的自锁</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#同步搜索"><span class="nav-number">57.</span> <span class="nav-text">同步搜索</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#layer弹出页面获取子页面元素的dom"><span class="nav-number">58.</span> <span class="nav-text">layer弹出页面获取子页面元素的dom</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#子页面让父页面刷新"><span class="nav-number">59.</span> <span class="nav-text">子页面让父页面刷新</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#btn点击置灰，不能点"><span class="nav-number">60.</span> <span class="nav-text">btn点击置灰，不能点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#全选，完整的全选功能"><span class="nav-number">61.</span> <span class="nav-text">全选，完整的全选功能</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#input-disable不能提交"><span class="nav-number">62.</span> <span class="nav-text">input disable不能提交</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#table设置了宽度百分比但是不生效的问题"><span class="nav-number">63.</span> <span class="nav-text">table设置了宽度百分比但是不生效的问题</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#判断是否选中多选框"><span class="nav-number">64.</span> <span class="nav-text">判断是否选中多选框</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#tr的上下顺序互换"><span class="nav-number">65.</span> <span class="nav-text">tr的上下顺序互换</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#判断是手机端还是pc端"><span class="nav-number">66.</span> <span class="nav-text">判断是手机端还是pc端</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#滚动执行只加载一次"><span class="nav-number">67.</span> <span class="nav-text">滚动执行只加载一次</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#注释报错"><span class="nav-number">68.</span> <span class="nav-text">注释报错</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#分享到朋友圈"><span class="nav-number">69.</span> <span class="nav-text">分享到朋友圈</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#鼠标点击事件"><span class="nav-number">70.</span> <span class="nav-text">鼠标点击事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#window下ajax返回204却走的error"><span class="nav-number">71.</span> <span class="nav-text">window下ajax返回204却走的error</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#js捕获鼠标右键菜单中的粘帖事件"><span class="nav-number">72.</span> <span class="nav-text">js捕获鼠标右键菜单中的粘帖事件</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#手机视频播放全屏"><span class="nav-number">73.</span> <span class="nav-text">手机视频播放全屏</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#全屏播放时黑屏，需要重新加载一次"><span class="nav-number">74.</span> <span class="nav-text">全屏播放时黑屏，需要重新加载一次</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#防止用户恶意输入"><span class="nav-number">75.</span> <span class="nav-text">防止用户恶意输入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#js代码中有script标签"><span class="nav-number">76.</span> <span class="nav-text">js代码中有script标签</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数字格式化"><span class="nav-number">77.</span> <span class="nav-text">数字格式化</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#删除数组中的某个元素"><span class="nav-number">78.</span> <span class="nav-text">删除数组中的某个元素</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#生成一个随机0-3的随机数"><span class="nav-number">79.</span> <span class="nav-text">生成一个随机0~3的随机数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#循环延时"><span class="nav-number">80.</span> <span class="nav-text">循环延时</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#console-claen-自动循环"><span class="nav-number">81.</span> <span class="nav-text">console.claen()自动循环</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#倒计时"><span class="nav-number">82.</span> <span class="nav-text">倒计时</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#身份证的详细验证"><span class="nav-number">83.</span> <span class="nav-text">身份证的详细验证</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#获取上传图片的宽高，并且浏览"><span class="nav-number">84.</span> <span class="nav-text">获取上传图片的宽高，并且浏览</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#框架设置默认值"><span class="nav-number">85.</span> <span class="nav-text">框架设置默认值</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#简单的深拷贝"><span class="nav-number">86.</span> <span class="nav-text">简单的深拷贝</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#判断是否是构造函数"><span class="nav-number">87.</span> <span class="nav-text">判断是否是构造函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#import和module-exports-混用报错"><span class="nav-number">88.</span> <span class="nav-text">import和module.exports 混用报错</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#vue的-路径"><span class="nav-number">89.</span> <span class="nav-text">vue的@+路径</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#将json转成url形式"><span class="nav-number">90.</span> <span class="nav-text">将json转成url形式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#类型转换"><span class="nav-number">91.</span> <span class="nav-text">类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#valueOf与toString方法研究"><span class="nav-number">91.1.</span> <span class="nav-text">valueOf与toString方法研究:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#常见的算法："><span class="nav-number">91.2.</span> <span class="nav-text">常见的算法：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#svg-制作loading"><span class="nav-number">92.</span> <span class="nav-text">svg 制作loading</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#获取滚动条的方法"><span class="nav-number">93.</span> <span class="nav-text">获取滚动条的方法</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">樱月义</span>

  
</div>



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
